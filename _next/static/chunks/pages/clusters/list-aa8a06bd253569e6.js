(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[15],{41344:function(t,e,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/clusters/list",function(){return s(42361)}])},42361:function(t,e,s){"use strict";s.r(e),s.d(e,{default:function(){return _}});var o=s(85893),r=s(28014),l=s(11163),n=s(2504),i=s(21237),a=s(67294),c=s(83121),u=s(80050),d=s(59734),h=s(71866);let v=[{accessorKey:"clusterDisplay",header:"Cluster",sortable:!0,sortAccessor:t=>t.cluster},{accessorKey:"validators",header:"Validators",sortable:!0},{accessorKey:"operators",header:"Operators",sortable:!0}],p=t=>{var e;let{operator:s,setTotalClusters:l,setTotalValidators:n}=t,{data:a,error:c,isLoading:p}=(0,d.ZP)(s?"/dv/operator/".concat(s):null,u.gP),{data:f,error:x,isLoading:_}=(0,d.ZP)(s?"/lock/operator/".concat(s):null,u.e0);if(n&&n(null==f?void 0:f.total_count),p)return(0,o.jsx)(r.xv,{children:"Loading..."});if(c||!a)return(0,o.jsx)(r.xv,{children:"Error | no data"});if(a&&!a.cluster_definitions)return(0,o.jsx)(r.xv,{children:"No clusters"});let g=null==f?void 0:f.cluster_locks.map(t=>{var e,s,l,n;return{id:t._id,clusterDisplay:(0,o.jsx)(r.rU,{href:"/clusters/details/?lockHash=".concat(t.lock_hash),children:t.cluster_definition.name}),cluster:t.cluster_definition.name,validators:null===(e=t.cluster_definition)||void 0===e?void 0:null===(s=e.validators)||void 0===s?void 0:s.length,operators:null===(l=t.cluster_definition)||void 0===l?void 0:null===(n=l.operators)||void 0===n?void 0:n.length}}),m=null==f?void 0:f.cluster_locks.map(t=>t.cluster_definition.config_hash),j=null==a?void 0:null===(e=a.cluster_definitions)||void 0===e?void 0:e.filter(t=>!(null==m?void 0:m.includes(t.config_hash))),b=j.map(t=>{let e=t.operators.every(t=>""===t.address),s=e?"/solo/create-cluster/?configHash=".concat(t.config_hash,"&fromList=true"):"/dv/?configHash=".concat(t.config_hash);return{id:t._id,clusterDisplay:(0,o.jsx)(r.rU,{href:s,children:t.name}),cluster:t.name,status:(0,o.jsx)(r.HV,{textVariant:"body",status:(0,i.yc)(t)}),validators:t.validators.length,operators:t.operators.length}});return l&&(null==b?void 0:b.length)>0&&(null==m?void 0:m.length)>0&&l(b.length+m.length),(0,o.jsx)(h.g_,{css:{".table-container":{"@sm":{width:"694px"}}},children:(0,o.jsx)(r.Nk,{tabs:[{title:"Clusters",count:null==f?void 0:f.total_count,tableProps:{columns:v,rows:g}},{title:"Invites",count:b.length,tableProps:{columns:v,rows:b}}]})})},f=(0,r.zo)(r.kC,{flexDirection:"column",width:"auto",gap:"$2xl",px:"10%",py:"$5xl","@sm":{px:"10%",pb:"$5xl",pt:"$xl"}}),x=()=>{let t=(0,l.useRouter)(),e=(0,i.xs)(t,"walletAddress"),{account:s}=(0,n.kR)(),[u]=(0,n.pZ)(e||s),[d,h]=(0,a.useState)(0),[v,x]=(0,a.useState)(0),_=t=>{h(t)},g=t=>{x(t)};return(0,o.jsxs)(f,{children:[(0,o.jsx)(r.kC,{direction:"column",css:{gap:"$xxs"},children:(0,o.jsx)(r.xv,{variant:"h3",children:u||(0,c.zN)(e,[2,10],5)})}),(0,o.jsxs)(r.kC,{css:{gap:"$lg","@sm":{flexDirection:"column"}},children:[(0,o.jsx)(r.gK,{heading:"Clusters",content:v||"0",tooltipContent:"The number of clusters that this user operates"}),(0,o.jsx)(r.gK,{heading:"Validators",content:d||"0",tooltipContent:"The number of validators in all of this operators clusters"}),(0,o.jsx)(r.gK,{heading:"Invites",content:v-d||"0",tooltipContent:"The number of cluster invites sent to this operator"})]}),(0,o.jsx)(p,{setTotalClusters:g,setTotalValidators:_,operator:e||s})]})};var _=x}},function(t){t.O(0,[774,888,179],function(){return t(t.s=41344)}),_N_E=t.O()}]);